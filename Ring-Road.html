<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>The Ring-Road Experiment</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/flatly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 60px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 65px;
  margin-top: -65px;
}

.section h2 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h3 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h4 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h5 {
  padding-top: 65px;
  margin-top: -65px;
}
.section h6 {
  padding-top: 65px;
  margin-top: -65px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">TFUHP Website</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">Fundamentals</a>
</li>
<li>
  <a href="bottleneck.html">Bottleneck</a>
</li>
<li>
  <a href="Ring-Road.html">Ring-Road</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">The Ring-Road Experiment</h1>

</div>


<div id="a-controlled-experiment" class="section level3">
<h3>1. A Controlled Experiment</h3>
<p>We will begin our model building exercise by describing a single-lane <em>ring</em> or <em>loop road</em> where the drivers cannot pass one another or enter or exit the loop. The number of vehicles traveling around the ring road shown in the YouTube video is fixed at <span class="math inline">\(n\)</span> = 22 vehicles <span class="citation">(Sugiyama et al. 2008)</span> The drivers were instructed to maintain a constant speed and distance headway <span class="math inline">\(h\)</span>, measured as the distance between the front bumpers of the lead and following vehicles.</p>
<p>The drivers cannot follow instructions. After a few sections, the traffic breaks down. Traffic breakdown at a <em>bottleneck</em> is more complex because it requires traffic to merge. The analysis of a <em>loop road</em> is more straightforward. The number of vehicles on the loop road is fixed and equal to <span class="math inline">\(n\)</span>.</p>
<p>Drivers travelling around a loop road will attempt to optimize the situation. They select a constant speed <span class="math inline">\(u\)</span> and constant headway <span class="math inline">\(h\)</span>. Under these ideal conditions, drivers will travel steadily around the road without interruption. The reality is that the drivers are unable to do so. Their speeds will vary by a slight amount and eventually, the vehicles will begin to interact. The situation is modelled by adding traffic noise <span class="math inline">\(\sigma\)</span> to the speed <span class="math inline">\(u\)</span>. Assume speed <span class="math inline">\(U(t)\)</span> to be a stationary time series motion model of the form:</p>
<p><span class="math inline">\(U(t) = u + \sigma Z\)</span></p>
<p>with a mean speed <span class="math inline">\(u\)</span> is a constant value over time, <span class="math inline">\(\sigma\)</span> is a standard deviation of speed, <span class="math inline">\(Z \sim N(0,1)\)</span> is a standard normal probability distribution and time <span class="math inline">\(t\)</span> is measured in seconds. Models using time measurements in seconds are called <em>microscale models.</em> Models using data aggregated over 15-minute time intervals are called <em>macroscale models.</em> They will be discussed presently.</p>
<p>Now, we turn our attention to modeling vehicular interaction, better known in the literature as <em>car following</em>. The deterministic <em>flow-density-speed</em> relationship of <span class="math inline">\(q = k * u\)</span>, the fundamental relationship, is now treated as a random process of the form:</p>
<p><span class="math inline">\(Q = K * U(t)\)</span></p>
<p>An interesting result occurs for the <em>loop road</em>. <span class="math inline">\(K\)</span> is not a random variable but a constant. <span class="math inline">\(K = k = n /l\)</span> where the l is the circumference of the roadway or <span class="math inline">\(2 \pi r\)</span> with <span class="math inline">\(r\)</span> equal to the radius of the ring-road. Thus, the flow equation is rewritten as:</p>
<p><span class="math inline">\(Q = k * U(t) = n / l * U(t)\)</span>.</p>
<p>The volatility in <span class="math inline">\(Q\)</span> is explained exclusively by the volatility in <span class="math inline">\(U(t)\)</span> as defined by <span class="math inline">\(u\)</span> and <span class="math inline">\(\sigma\)</span>.</p>
</div>
<div id="field-data" class="section level3">
<h3>2. Field Data</h3>
<p>Our next step in this discussion is to investigate the traffic data and glean as much information from <em>raw, real-world data.</em> First, we investigate relationships among of flow <span class="math inline">\(q\)</span>, density <span class="math inline">\(k\)</span> and speed <span class="math inline">\(u\)</span> on the northbound lane on I-93 in Salem, New Hampshire. Next, we will look for meaningful relationships using visual imagry, scatter plots, box plots and time-series plots. Once these relationships are revealed, the next step is to develop mathematical models that capture these relationships.</p>
<p>Unlike the “toy” example, 20,656 recordings of <span class="math inline">\(q\)</span>, <span class="math inline">\(k\)</span> and <span class="math inline">\(u\)</span> were made over a period of eight months. The speed recordings are aggregate values. The <em>space-mean speed</em> is estimated as <span class="math inline">\(u = n/(1/\sum u_i)\)</span> where <span class="math inline">\(u_i\)</span> is an individual observation made in a 15-minute interval, <span class="math inline">\(i = 1,2,..., n\)</span> is vehicle identification number, and <span class="math inline">\(n\)</span> is the total number of vehicles observed in the interval. The flow for the interval is calculated as <span class="math inline">\(q = n/t\)</span> where <span class="math inline">\(t\)</span> is 15-minutes. The density is derived from the <em>fundamental relationship</em> of traffic flow <span class="math inline">\(q = k * u\)</span>. Thus, the density is estimated as <span class="math inline">\(k = q/u\)</span>. The site is a <strong>bottleneck</strong> because the number of lanes drops from three to two. By exploring the data, we will discover that congestion at the site is severe.</p>
<p>A <strong>Flow-Speed Plot</strong> scatter plot reveals much about the traffic at the site. For one, the data are <em>extremely noisy or volatile</em>, therefore making it difficult to reveal clear-cut patterns in the data. By using scaling and color shading of the <span class="math inline">\(k\)</span> dots, the scatter plot become enhanced, making it easier to reveal patterns in the data. The smaller/black dots indicate fewer vehicles per mile than the large/blue dots.</p>
<p>Even though the data are noisy, patterns are revealed. For one, speeds between 60 and 80 miles per hour (mph) are observed at flows ranging from 0 to 3000 vehicles per hour (vph). The speed tends to decrease marginally with an increase in flow. The densities over this range increase but for the most part, do not exceed <span class="math inline">\(k \le 70\)</span> vehicles per mile (vpm). Given these results, <span class="math inline">\(u^* =\)</span> 50 mph is defined to be a critical speed where a <em>congested state</em> and a <em>free-flow state</em> are defined to be <span class="math inline">\(u \le u^*\)</span> and <span class="math inline">\(u &gt; u^*\)</span>, respectively. Low speeds and high densities, <span class="math inline">\(u \le u^*\)</span> and <span class="math inline">\(k &gt; 70\)</span> vpm, tend to be associated and define a congested state.</p>
<p><img src="Ring-Road_files/figure-html/speedplot-1.png" width="384" /></p>
</div>
<div id="density-speed" class="section level3">
<h3>3. Density-Speed</h3>
<p>We continue to explore the relationship between <span class="math inline">\(k\)</span> and <span class="math inline">\(u\)</span> with the <strong>Box Plot of Density-Speed</strong>. To construct the diagram, the speed were sorted and placed into bins. For example, the labeled as <span class="math inline">\(k^*\)</span> = 45 vpm consists of observations ranging 42.5 to 47.5 vpm. This value of <span class="math inline">\(k^*\)</span> is taken from the Highway Capacity Manual (HCM), which defines it to be the roadway capacity for this geometric design. Visual inspection reveals that the chance of driving in a free-flow state, <span class="math inline">\(u^* &gt; 50\)</span>, is greater when <span class="math inline">\(k^* \le 45\)</span> vpm. The interquartile range of speed is extremely tight for <span class="math inline">\(k^* \le 45\)</span> vpm. Excluding outliners, a driver can be assured that speeds of 70 mph or more can be expected. With the exception of the bin at <span class="math inline">\(k\)</span> = 50 vpm, speeds considerably less than 25 mph is expected for <span class="math inline">\(k^* \ge 55\)</span> vpm. It is impossible to explain why so many congested speed observations are located in the <span class="math inline">\(0 &lt; k \le k^* = 50\)</span> range. For <span class="math inline">\(k \le 50\)</span> vpm, a better case can be made that a congested state will be observed.</p>
<p><img src="Ring-Road_files/figure-html/speedboxplot-1.png" width="480" /></p>
<p>A <strong>Time-Speed Plot</strong> draws attention to <em>traffic breakdown</em>, driving in a congested state with speeds of less than 50 mph, <span class="math inline">\(u \le\)</span> 50 mph, is a common occurence. Simple inspection of the plot also reveals that <em>long delays, congestion lasting more than one hour, are common</em>. Remember a congested state is defined by speed, <span class="math inline">\(u \le 50\)</span> mph. Also make note that each <span class="math inline">\((t,u)\)</span> point on the figure represents a point-in-time denoted by <span class="math inline">\(t\)</span>, which means the freeway is in a congested state for 15 minutes. Note that <span class="math inline">\(t\)</span> is not clock time but a time-index, each <span class="math inline">\(t\)</span> representing a time interval of 15 minutes. At the extreme right, for example, the freeway is observed to have a time index of <span class="math inline">\(t\)</span> = 36. Thus, time in a congested state in this instance is 36 / 4 = 9 hours.</p>
<p>Statistic summaries of the data reveal interesting facts. The total number of breakdown events is counted to be 227. The total time the freeway is in a congested state is calculated to be 444 hours. The average delay time is estimated to be 444/227 or about two hours. The breakdown count includes multiple breakdown in a single day. The chance of a breakdown is estimated to be 4 in 5. Stated another way, four days in a five-day work week the freeway is congested state with speeds ranging from <span class="math inline">\(10 &lt; u &lt; 20\)</span> mph.</p>
<p>Of course, these statistical summaries are important performance measurements. However, they do not explain why traffic breakdown is so prevelent at the site. The data used in the <strong>Time-Speed Plot</strong>, a subset of the data used in the <strong>Flow-Speed Plot</strong> and <strong>Box Plot of Density-Speed</strong> diagrams, gives a different perspective. Note that the horizontal axis is labelled with time indices <span class="math inline">\(t = -1,0,1,2, ...\)</span>. The first breakdown in a string of initial breakdown events is denoted as t = 0$. Thus, <span class="math inline">\(u_0\)</span> is called the breakdown speed and <span class="math inline">\(u_{-1}\)</span> is called the pre-breakdown speed.</p>
<p>The pre-breakdown <span class="math inline">\(u_{-1}\)</span> and breakdown <span class="math inline">\(u_0\)</span> speeds, even after filtering the data, are <em>extremely volatile</em>. Since <span class="math inline">\(50 \le u_{-1} &lt; 72\)</span> mph is so wide a range, it cannot be used as an indicator or reliable predictor that a breakdown is likely to occur.</p>
<p>The smooth blue curve, a generalized additive model (gam), suggests that there may be a underlining structure associated with this chaos. Like above, the blue curve draws attention to the fact that congestion, <span class="math inline">\(u \le 50\)</span> mph, can last a long time. It also draws attention to the fact that the average speed drop is around 35 mph.</p>
<p>The blue curve must be used with care. It does not take over one-hour (<span class="math inline">\(t\)</span> = 5/4 = 1.25) for the speed to drop from 55 to 20 mph or speed drop of 35 mph. Again, remember the <span class="math inline">\(t\)</span> values are time indices, not clock times. The blue curve is useful for inferences regarding speed drop but totally misleading with regard to times of occurrence. Every driver knows that breakdown events occur on a time scale of seconds not minutes.</p>
</div>
<div id="logistic-regression" class="section level3">
<h3>4. Logistic Regression</h3>
<p><img src="Ring-Road_files/figure-html/logisticmodel-1.png" width="480" /><img src="Ring-Road_files/figure-html/logisticmodel-2.png" width="480" /></p>
</div>
<div id="time-distance-trajectories" class="section level3">
<h3>5. Time-Distance Trajectories</h3>
<p>The <span class="math inline">\(Q = k * U(t)\)</span> model exhibits the same behavior as shown in the YouTube video. Our results are shown as time-distance <span class="math inline">\(t-x\)</span> trajectories for <span class="math inline">\(k\)</span> = 55 vehicles per mile (vpm). See the <strong>Congested Flow: Ring Road</strong> diagram. A same instructions given to the drivers of the Yuki Sugiyama experiment are assumed for the computer simulation that produced the <span class="math inline">\(t-x\)</span> trajectories. Maintain a constant speed and headway <span class="math inline">\(h\)</span>. The simulated drivers are assigned the same initial speed of <span class="math inline">\(u\)</span> = 30 miles per hour (mph) and are evenly placed along the <span class="math inline">\(x\)</span> axis at <span class="math inline">\(t\)</span> = 0. The traffic density is fixed at <span class="math inline">\(k\)</span> = 55 vph. As in the full-scale experiment, the simulated drivers cannot maintain a constant speed or even spacing. After a few seconds, the vehicles begin to interact and form clusters (moving queues) and the traffic breaks down. Setting <span class="math inline">\(\sigma\)</span> = 0, no clustering or breakdown can occur. <em>Clearly, traffic volatility plays an important role.</em></p>
<p>The <strong>rrtrials</strong> computer simulation of the <span class="math inline">\(Q = n / l * U(t)\)</span> model incorporates two important features not mentioned above: (1) <em>driver performance in a car-following situation</em> and (2) <em>safety</em>. They are most easily explained with the use of the dotted and dashed lines shown in the figure. The dotted line is the trajectory of vehicle 1, the lead vehicle, assuming that its driver could maintain a constant speed. Since <span class="math inline">\(x = u * t\)</span>, the slope of the dotted line is <span class="math inline">\(u = 10\)</span> mph. The dashed line is the trajectory of vehicle 2 when vehicle 1 maintains the trajectory shown by the dotted line. Since vehicle 1 slows, vehicle 2 must slowdown to avoid a crash. The distance headways, measured by the distance between a lead/following pair, are safe distances.</p>
<p>Level-of-service estimates for the simulation are shown in the following table. The mean headway <span class="math inline">\(\bar{h}\)</span> is the averages of the distances between points along the <span class="math inline">\(x = 0\)</span> axis. The predicted flow for the simulation is estmated as <span class="math inline">\(\hat{Q} = 1/\bar{h}\)</span>. The standard deviation estimate of <span class="math inline">\(\hat{\sigma}_h\)</span> is an indicator that a breakdown is triggered by a volatile process associated with vehicle speed exclusively. Assuming no volatility <span class="math inline">\(\sigma\)</span> = 0, <span class="math inline">\(q = k * u\)</span> = 1650 vph and <span class="math inline">\(h\)</span> = 2.2 seconds at <span class="math inline">\(x\)</span> = 0.</p>
<table>
<colgroup>
<col width="32%" />
<col width="35%" />
<col width="32%" />
</colgroup>
<thead>
<tr class="header">
<th align="right">Mean headway <span class="math inline">\(\bar{h}\)</span></th>
<th align="right">Headway standard deviation <span class="math inline">\(\hat{\sigma}_h\)</span></th>
<th align="right">Predicted flow <span class="math inline">\(\hat{Q}\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">2.2 seconds</td>
<td align="right">1.6 seconds</td>
<td align="right">1650 vehicles per hour (vph)</td>
</tr>
</tbody>
</table>
<p>The <span class="math inline">\(Q = k * U(t)\)</span> model suggests a <em>cause-effect relationship</em> exists: <span class="math inline">\(u\)</span> and <span class="math inline">\(\sigma\)</span> are the causal factors and <span class="math inline">\(\hat{Q} = 1/ \bar{h}\)</span> is the response variable. As illustrated, vehicle clustering occurs only when density <span class="math inline">\(k\)</span> sufficiently dense. When there are fewer vehicles on the ring road, <span class="math inline">\(k = n / l\)</span> decreases resulting in longer time headways of <span class="math inline">\(\bar{h}\)</span>. Under less dense conditions, drivers can vary their speeds without affecting one another, thus reducing the chance of breakdown.</p>
<p>Overall, the <span class="math inline">\(Q\)</span> model predicts poor performance. <span class="math inline">\(\hat{Q} \le c^*\)</span> = 2250 vph with speeds <span class="math inline">\(\bar{u} \pm \sigma_U = 29 \pm 5\)</span> mph. High volatility in speed and headway <span class="math inline">\(h\)</span>, shown in the <strong>Headway</strong> histogram, suggests driving under these conditions is unpleasant.</p>
<p><img src="Ring-Road_files/figure-html/ringroad1-1.png" width="480" /></p>
<p><img src="Ring-Road_files/figure-html/ringroad2-1.png" width="480" /></p>
<table>
<colgroup>
<col width="24%" />
<col width="24%" />
<col width="27%" />
<col width="24%" />
</colgroup>
<thead>
<tr class="header">
<th align="right"><strong>Scenario</strong></th>
<th align="right"><span class="math inline">\(\bar{h}\)</span>, seconds</th>
<th align="right"><span class="math inline">\(\hat{\sigma}_h\)</span>, seconds</th>
<th align="right"><span class="math inline">\(\hat{Q}\)</span>, vehicles per hour (vph)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">Free-Flow</td>
<td align="right">1.68</td>
<td align="right">0.59</td>
<td align="right">2137</td>
</tr>
<tr class="even">
<td align="right">Congested-Flow</td>
<td align="right">1.76</td>
<td align="right">1.46</td>
<td align="right">2045</td>
</tr>
</tbody>
</table>
</div>
<div id="forecasting" class="section level3">
<h3>6. Forecasting</h3>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   68.12   69.46   70.10   70.12   71.02   72.04</code></pre>
<p><img src="Ring-Road_files/figure-html/cfanim1-1.png" width="576" /></p>
<pre><code>##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   32.42   37.38   40.11   41.50   45.03   54.92</code></pre>
<p><img src="Ring-Road_files/figure-html/cfanim2-1.png" width="576" /></p>
<div id="refs" class="references">
<div id="ref-1367-2630-10-3-033001">
<p>Sugiyama, Yuki, Minoru Fukui, Macoto Kikuchi, Katsuya Hasebe, Akihiro Nakayama, Katsuhiro Nishinari, Shin-ichi Tadaki, and Satoshi Yukawa. 2008. “Traffic Jams Without Bottlenecks—Experimental Evidence for the Physical Mechanism of the Formation of a Jam.” <em>New Journal of Physics</em> 10 (3):033001. <a href="http://stacks.iop.org/1367-2630/10/i=3/a=033001" class="uri">http://stacks.iop.org/1367-2630/10/i=3/a=033001</a>.</p>
</div>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
